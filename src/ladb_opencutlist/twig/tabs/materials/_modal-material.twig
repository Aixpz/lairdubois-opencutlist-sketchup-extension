{% extends 'core/_modal.twig' %}

{% set id = 'ladb_materials_modal_material' %}
{% set title = 'tab.materials.edit_material.title'|i18next({ 'name':material.name }) %}

{% block headerInner %}
    {{ parent() }}
    {% if material.textured %}
        <ul class="nav nav-tabs nav-justified" role="tablist">
            <li role="presentation" class="active"><a href="#tab_edit_material_general" role="tab" data-toggle="tab">{{ 'tab.materials.edit_material.general'|i18next }}</a></li>
            <li role="presentation"><a id="ladb_materials_btn_tab_texture" href="#tab_edit_material_texture" role="tab" data-toggle="tab"><i class="ladb-opencutlist-icon-texture"></i> {{ 'tab.materials.edit_material.texture'|i18next }}</a></li>
        </ul>
    {% endif %}
{% endblock %}

{% block bodyInner %}
    <div class="form form-horizontal">
        <div class="tab-content" style="margin-top: 10px;">
            <div role="tabpanel" class="tab-pane active" id="tab_edit_material_general">
                <div class="form-group">
                    <label for="ladb_materials_input_name" class="control-label col-xs-4">{{ 'tab.materials.edit_material.name'|i18next }}</label>
                    <div class="col-xs-7">
                        <input type="text" class="form-control" id="ladb_materials_input_name" value="{{ material.name }}">
                    </div>
                </div>
                <div class="form-group">
                    <label for="ladb_materials_input_type" class="control-label col-xs-4">{{ 'tab.materials.edit_material.type'|i18next }}</label>
                    <div class="col-xs-7">
                        <select class="form-control" id="ladb_materials_input_type">
                            <option value="0" data-content="<span style='color: #ccc; font-style: italic;'>{{ 'tab.materials.type_0'|i18next }}</span>"{% if material.attributes.type == 0 %} selected{% endif %}>0</option>
                            <option value="1" data-content="<i class='ladb-opencutlist-icon-solid-wood'></i> {{ 'tab.materials.type_1'|i18next }}"{% if material.attributes.type == 1 %} selected{% endif %}>1</option>
                            <option value="2" data-content="<i class='ladb-opencutlist-icon-sheet-good'></i> {{ 'tab.materials.type_2'|i18next }}"{% if material.attributes.type == 2 %} selected{% endif %}>2</option>
                            <option value="3" data-content="<i class='ladb-opencutlist-icon-bar'></i> {{ 'tab.materials.type_3'|i18next }}"{% if material.attributes.type == 3 %} selected{% endif %}>2</option>
                        </select>
                    </div>
                </div>
                <section{% if material.attributes.type == 0 %} style="display: none;"{% endif %}>
                    <h4 class="text-center">{{ 'tab.materials.edit_material.cut_options'|i18next }}</h4>
                    <div class="form-group">
                        <label for="ladb_materials_input_length_increase" class="control-label col-xs-4">{{ 'tab.materials.edit_material.length_increase'|i18next }}</label>
                        <div class="col-xs-7">
                            <input type="text" class="form-control" id="ladb_materials_input_length_increase" value="{{ material.attributes.length_increase|escape('html') }}">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="ladb_materials_input_width_increase" class="control-label col-xs-4">{{ 'tab.materials.edit_material.width_increase'|i18next }}</label>
                        <div class="col-xs-7">
                            <input type="text" class="form-control" id="ladb_materials_input_width_increase" value="{{ material.attributes.width_increase|escape('html') }}">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="ladb_materials_input_thickness_increase" class="control-label col-xs-4">{{ 'tab.materials.edit_material.thickness_increase'|i18next }}</label>
                        <div class="col-xs-7">
                            <input type="text" class="form-control" id="ladb_materials_input_thickness_increase" value="{{ material.attributes.thickness_increase|escape('html') }}">
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="ladb-minitools ladb-minitools-right ladb-minitools-lg"><a tabindex="0" role="button" data-toggle="popover" data-trigger="hover" data-placement="left" title="{{ 'default.help'|i18next }}" data-content="{{ 'tab.materials.edit_material.std_thicknesses_help'|i18next }}"><i class="ladb-opencutlist-icon-help"></i></a></div>
                        <label for="ladb_materials_input_std_thicknesses" class="control-label col-xs-4">{{ 'tab.materials.edit_material.std_thicknesses'|i18next }}</label>
                        <div class="col-xs-7">
                            <input type="text" class="form-control" id="ladb_materials_input_std_thicknesses" value="{{ material.attributes.std_thicknesses|escape('html') }}" placeholder="{{ 'tab.materials.edit_material.std_thicknesses_placeholder'|i18next }}">
                        </div>
                        <div class="col-xs-1">
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="ladb-minitools ladb-minitools-right ladb-minitools-lg"><a tabindex="0" role="button" data-toggle="popover" data-trigger="hover" data-placement="left" title="{{ 'default.help'|i18next }}" data-content="{{ 'tab.materials.edit_material.std_sections_help'|i18next }}"><i class="ladb-opencutlist-icon-help"></i></a></div>
                        <label for="ladb_materials_input_std_sections" class="control-label col-xs-4">{{ 'tab.materials.edit_material.std_sections'|i18next }}</label>
                        <div class="col-xs-7">
                            <input type="text" class="form-control" id="ladb_materials_input_std_sections" value="{{ material.attributes.std_sections|escape('html') }}" placeholder="{{ 'tab.materials.edit_material.std_sections_placeholder'|i18next }}">
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="ladb-minitools ladb-minitools-right ladb-minitools-lg"><a tabindex="0" role="button" data-toggle="popover" data-trigger="hover" data-placement="left" title="{{ 'default.help'|i18next }}" data-content="{{ 'tab.materials.edit_material.std_sizes_help'|i18next }}"><i class="ladb-opencutlist-icon-help"></i></a></div>
                        <label for="ladb_materials_input_std_sizes" class="control-label col-xs-4">{{ 'tab.materials.edit_material.std_sizes'|i18next }}</label>
                        <div class="col-xs-7">
                            <input type="text" class="form-control" id="ladb_materials_input_std_sizes" value="{{ material.attributes.std_sizes|escape('html') }}" placeholder="{{ 'tab.materials.edit_material.std_sizes_placeholder'|i18next }}">
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="ladb-minitools ladb-minitools-right ladb-minitools-lg"><a tabindex="0" role="button" data-toggle="popover" data-trigger="hover" data-placement="left" title="{{ 'default.help'|i18next }}" data-content="{{ 'tab.materials.edit_material.grained_help'|i18next }}"><i class="ladb-opencutlist-icon-help"></i></a></div>
                        <label for="ladb_materials_select_grained" class="control-label col-xs-4">{{ 'tab.materials.edit_material.grained'|i18next }}</label>
                        <div class="col-xs-7">
                            <select class="form-control" id="ladb_materials_select_grained">
                                <option value="0" data-content="<i class='ladb-opencutlist-icon-grained-0'></i> {{ 'tab.materials.edit_material.grained_0'|i18next }}"></option>
                                <option value="1" data-content="<i class='ladb-opencutlist-icon-grained-1'></i> {{ 'tab.materials.edit_material.grained_1'|i18next }}"{% if material.attributes.grained %} selected{% endif %}></option>
                            </select>
                        </div>
                    </div>
                    <div class="text-center">
                        <p class="help-block">{{ 'tab.materials.edit_material.cut_options_defaults.manage_help'|i18next }} - <strong><span id="ladb_materials_span_cut_options_defaults_type_1">{{ 'tab.materials.type_1'|i18next }}</span><span id="ladb_materials_span_cut_options_defaults_type_2">{{ 'tab.materials.type_2'|i18next }}</span><span id="ladb_materials_span_cut_options_defaults_type_3">{{ 'tab.materials.type_3'|i18next }}</span></strong></p>
                        <button class="btn btn-default" id="ladb_materials_btn_cut_options_defaults_save">{{ 'tab.materials.edit_material.cut_options_defaults.save'|i18next() }}</button>
                        <button class="btn btn-default" id="ladb_materials_btn_cut_options_defaults_reset">{{ 'tab.materials.edit_material.cut_options_defaults.reset'|i18next() }}</button>
                    </div>
                </section>
            </div>
            <div role="tabpanel" class="tab-pane" id="tab_edit_material_texture">
                <div class="ladb-material-texture-preview">
                    <div class="thumbnail">
                        <img id="ladb_materials_img_texture" src="">
                        <div style="position: absolute; left: 0; bottom: 10px; right: 0; font-size: 80%; width: 100%; color: #fff; text-shadow: 1px 1px 2px black;">{{ material.texture_image_width }} x {{ material.texture_image_height }} px</div>
                    </div>
                </div>
                <div class="text-center">
                    <input id="ladb_materials_input_texture_rotation" type="hidden" value="{{ material.texture_rotation }}"/>
                    <button id="ladb_materials_btn_texture_rotate_left" class="btn btn-default"><i class="ladb-opencutlist-icon-rotate-left" style="font-size: 120%"></i></button>
                    <button id="ladb_materials_btn_texture_rotate_right" class="btn btn-default"><i class="ladb-opencutlist-icon-rotate-right" style="font-size: 120%"></i></button>
                    {% if material.colorized %}
                        <button id="ladb_materials_btn_texture_colorized" class="btn btn-default" data-toggle="tooltip" title="{{ 'tab.materials.tooltip.texture_colorized'|i18next }}"{% if not material.texture_colorizable %} disabled{% endif %}><i class="ladb-opencutlist-icon-plus" style="font-size: 80%;"></i> <i class="ladb-opencutlist-icon-drop" style="color: {{ material.color }}"></i></button>
                    {% endif %}
                </div>
                <hr>
                <div class="row">
                    <div class="media col-xs-10">
                        <div class="media-body">
                            <div class="form-group">
                                <label for="ladb_materials_input_texture_width" class="control-label col-xs-5">{{ 'tab.materials.edit_material.texture_width'|i18next }}</label>
                                <div class="col-xs-7">
                                    <input type="text" class="form-control" id="ladb_materials_input_texture_width" value="{{ material.texture_width }}">
                                </div>
                            </div>
                            <div class="form-group" style="margin-bottom: 0;">
                                <label for="ladb_materials_input_texture_height" class="control-label col-xs-5">{{ 'tab.materials.edit_material.texture_height'|i18next }}</label>
                                <div class="col-xs-7">
                                    <input type="text" class="form-control" id="ladb_materials_input_texture_height" value="{{ material.texture_height }}">
                                </div>
                            </div>
                        </div>
                        <div class="media-right" style="vertical-align: middle;">
                            <button id="ladb_material_btn_texture_size_lock" class="btn btn-default btn-sm" data-locked="true"><i class="ladb-opencutlist-icon-lock"></i></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block footerInner %}
    <button type="button" class="btn btn-danger pull-left" id="ladb_materials_remove"><i class="ladb-opencutlist-icon ladb-opencutlist-icon-trash"></i> {{ 'default.remove'|i18next }}</button>
    <button type="button" class="btn btn-default pull-left" id="ladb_materials_export_to_skm"><i class="ladb-opencutlist-icon ladb-opencutlist-icon-export"></i> {{ 'tab.materials.edit_material.export_to_skm'|i18next }}</button>
    <button type="button" class="btn btn-default" data-dismiss="modal">{{ 'default.cancel'|i18next }}</button>
    <button type="button" class="btn btn-primary" id="ladb_materials_update">{{ 'default.validate'|i18next }}</button>
{% endblock %}